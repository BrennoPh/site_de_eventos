<!DOCTYPE html>
<html lang="pt-BR" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Confirmar Pedido</title>
    <link rel="stylesheet" th:href="@{/css/style.css}">
</head>
<body>
    <div class="pedido-container">
        <div class="evento-detalhe" th:if="${evento}">
            
            <img src="https://source.unsplash.com/random/800x400/?party,concert" alt="Imagem do Evento" style="width:100%; height:auto; border-radius: 8px;">
            
            <h1 th:text="${evento.nomeEvento}">Nome do Evento</h1>
            
            <p class="meta-info">
                <span th:text="${#temporals.format(evento.dataEvento, 'dd MMM yyyy')}">Data</span> |
                <span th:text="${evento.local}">Local</span>
            </p>
        </div>
<div class="resumo-pedido">
    <h3>Seu Pedido</h3>
    
    <p>Evento: "<span th:text="${evento.nomeEvento}">Nome do Evento</span>"</p>
    
    <p class="big" style="text-align: center; margin: 1rem 0;">
        Preço por Ingresso: R$ <span th:text="${#numbers.formatDecimal(evento.preco, 1, 'POINT', 2, 'COMMA')}">0,00</span>
    </p>

    <form action="/pedidos" method="POST" style="margin-top: 2rem;">
        <input type="hidden" name="eventoId" th:value="${evento.idEvento}" />
        <input type="hidden" name="usuarioId" th:if="${session.usuarioLogado != null}" th:value="${session.usuarioLogado.idUsuario}" />
        
        <div class="form-group">
            <label for="quantidade">Quantidade de Ingressos</label>
            <input type="number" id="quantidade" name="quantidade" value="1" min="1" 
                   th:max="${evento.ingressosDisponiveis}" required 
                   style="width: 100%; padding: 0.75rem; border-radius: 8px; background: #1a1a1a; border: 1px solid var(--border); color: var(--white); font-size: 1rem;">
            <small th:text="'(Máximo de ' + ${evento.ingressosDisponiveis} + ' disponíveis)'" style="display: block; text-align: right; margin-top: 0.5rem;"></small>
        </div>
        
        <button type="submit" class="btn-accent" style="width:100%; margin-top: 2rem;">Confirmar Compra</button>
    </form>
</div>
</body>
</html>